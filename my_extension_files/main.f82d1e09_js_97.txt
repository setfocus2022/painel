==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,Cn),V=wn(),q=function(e,t){var n=wn(),r=Te((0,i.useState)((function(){return Sn(e,null==n?void 0:n.document)})),2),a=r[0],o=r[1];if(!a){var s=Sn(e);s&&o(s)}return(0,i.useEffect)((function(){t&&a&&t(a)}),[t,a]),(0,i.useEffect)((function(){var t=Sn(e);t!==a&&o(t)}),[e,a]),a}(_),H=On(R),G=ln(),$=un(r),Q=Te((0,i.useState)(!r),2),Y=Q[0],K=Q[1],J=(0,i.useRef)(null);(0,i.useImperativeHandle)(t,(function(){return H}),[H]),bt&&!$&&r&&(J.current=on(null==V?void 0:V.document)),r&&Y&&K(!1);var Z=Qt((function(){if(H.add(),ae.current=kt(document,"keydown",ne),re.current=kt(document,"focus",(function(){return setTimeout(ee)}),!0),A&&A(),S){var e,t,n=on(null!=(e=null==(t=H.dialog)?void 0:t.ownerDocument)?e:null==V?void 0:V.document);H.dialog&&n&&!sn(H.dialog,n)&&(J.current=n,H.dialog.focus())}})),X=Qt((function(){var e;(H.remove(),null==ae.current||ae.current(),null==re.current||re.current(),N)&&(null==(e=J.current)||null==e.focus||e.focus(C),J.current=null)}));(0,i.useEffect)((function(){r&&q&&Z()}),[r,q,Z]),(0,i.useEffect)((function(){Y&&X()}),[Y,X]),cn((function(){X()}));var ee=Qt((function(){if(j&&G()&&H.isTopModal()){var e=on(null==V?void 0:V.document);H.dialog&&e&&!sn(H.dialog,e)&&H.dialog.focus()}})),te=Qt((function(e){e.target===e.currentTarget&&(null==h||h(e),!0===f&&D())})),ne=Qt((function(e){m&&function(e){return"Escape"===e.code||27===e.keyCode}(e)&&H.isTopModal()&&(null==v||v(e),e.defaultPrevented||D())})),re=(0,i.useRef)(),ae=(0,i.useRef)();if(!q)return null;var oe=Object.assign({role:o,ref:H.setDialogRef,"aria-modal":"dialog"===o||void 0},W,{style:c,className:l,tabIndex:-1}),ie=O?O(oe):(0,Re.jsx)("div",Object.assign({},oe,{children:i.cloneElement(u,{role:"document"})}));ie=kn(g,y,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!r,onExit:z,onExiting:B,onExited:function(){K(!0),null==I||I.apply(void 0,arguments)},onEnter:M,onEntering:F,onEntered:U,children: