ck:function(){z(-1)},goForward:function(){z(1)},block:function(e){void 0===e&&(e=!1);var t=h.setPrompt(e);return M||(B(1),M=!0),function(){return M&&(M=!1,B(-1)),t()}},listen:function(e){var t=h.appendListener(e);return B(1),function(){B(-1),t()}}};return F}var _="hashchange",A={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+x(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:x,decodePath:b},slash:{encodePath:b,decodePath:b}};function L(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function D(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function z(e){window.location.replace(L(window.location.href)+"#"+e)}function I(e){void 0===e&&{},N||y(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,a=void 0===r?C:r,o=n.hashType,i=void 0===o?"slash":o,s=e.basename?S(b(e.basename)):"",l=A[i],c=l.encodePath,d=l.decodePath;function f(){var e=d(D());return s&&w(e,s),j(e)}var p=k();function m(e){u(F,e),F.length=t.length,p.notifyListeners(F.location,F.action)}var h=!1,v=null;function g(){var e,t,n=D(),r=c(n);if(n!==r)z(r);else{var o=f(),i=F.location;if(!h&&(o,i.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(v===E(o))return;null,function(e){if(h)!1,m();else{var t="POP";p.confirmTransitionTo(e,t,a,(function(n){n?m({action:t,location:e}):function(e){var t=F.location,n=T.lastIndexOf(E(t));-1===n&&0;var r=T.lastIndexOf(E(e));-1===r&&0;var a=n-r;a&&(!0,R(a))}(e)}))}}(o)}}var x=D(),O=c(x);x!==O&&z(O);var P=f(),T=[E(P)];function R(e){t.go(e)}var I=0;function B(e){1===(I+=e)&&1===e?window.addEventListener(_,g):0===I&&window.removeEventListener(_,g)}var M=!1;var F={length:t.length,action:"POP",location:P,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&L(window.location.href),n+"#"+c(s+E(e))},push:function(e,t){var n="PUSH",r=j(e,void 0,void 0,F.location);p.confirmTransitionTo(r,