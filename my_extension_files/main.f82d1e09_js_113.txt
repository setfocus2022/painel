.indexOf(e)>=0?1:-1,n=[Ba,Ma].indexOf(e)>=0?"y":"x";N[e]+=O[n]*t}))}return N}var wo={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var a=n.mainAxis,o=void 0===a||a,i=n.altAxis,s=void 0===i||i,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,f=n.altBoundary,p=n.flipVariations,m=void 0===p||p,h=n.allowedAutoPlacements,v=t.options.placement,g=ma(v),y=l||(g===v||!m?[so(v)]:function(e){if(ma(e)===Wa)return[];var t=so(e);return[co(e),t,co(t)]}(v)),b=[v].concat(y).reduce((function(e,n){return e.concat(ma(n)===Wa?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,a=n.boundary,o=n.rootBoundary,i=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?Ja:l,u=eo(r),d=u?s?Ka:Ka.filter((function(e){return eo(e)===u})):Va,f=d.filter((function(e){return c.indexOf(e)>=0}));0===f.length&&(f=d);var p=f.reduce((function(t,n){return t[n]=xo(e,{placement:n,boundary:a,rootBoundary:o,padding:i})[ma(n)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}(t,{placement:n,boundary:u,rootBoundary:d,padding:c,flipVariations:m,allowedAutoPlacements:h}):n)}),[]),x=t.rects.reference,w=t.rects.popper,S=new Map,E=!0,j=b[0],k=0;k<b.length;k++){var N=b[k],C=ma(N),O=eo(N)===qa,P=[Ba,Ma].indexOf(C)>=0,T=P?"width":"height",R=xo(t,{placement:N,boundary:u,rootBoundary:d,altBoundary:f,padding:c}),_=P?O?Fa:Ua:O?Ma:Ba;x[T]>w[T]&&(_=so(_));var A=so(_),L=[];if(o&&L.push(R[C]<=0),s&&L.push(R[_]<=0,R[A]<=0),L.every((function(e){return e}))){j=N,E=!1;break}S.set(N,L)}if(E)for(var D=function(e){var t=b.find((function(t){var n=S.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return j=t,"break"},z=m?3:1;z>0;z--){if("break"===D(z))break}t.placement!==j&&(t.modifiersData[r]._skip=!0,t.placement=j,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function So(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.